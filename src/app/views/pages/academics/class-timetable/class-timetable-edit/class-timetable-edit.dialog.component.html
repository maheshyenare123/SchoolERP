<div class="card card-custom"
	[ngClass]="{ 'card-body-progress card-body-progress-overlay' : viewLoading }">
	<div class="card-header">
		<div class="card-title">
			<h3 class="card-label">{{getTitle()}}</h3>
		</div>
	</div>

	<form class="form" [formGroup]="searchForm">
		<div class="card-body">

			<div class="card-body-progress">
				<mat-spinner [diameter]="20"></mat-spinner>
			</div>

			<kt-alert *ngIf="hasFormErrors" type="warn" [duration]="30000" [showCloseButton]="true" (close)="onAlertClose($event)">
				Oh snap! Change a few things up and try submitting again.
			</kt-alert>

			<div class="form-group row">
				<div class="col-lg-3 kt-margin-bottom-20-mobile">
					<mat-form-field class="mat-form-field-fluid">
						<mat-select placeholder="Select Reference"   formControlName="reference" >
							<mat-option *ngFor="let reference of referenceList" [value]="reference.reference">
							  {{reference.reference}}
							</mat-option>
						  </mat-select>
					</mat-form-field>
				</div>
				<div class="col-lg-3 kt-margin-bottom-20-mobile">
					<mat-form-field class="mat-form-field-fluid">
						<mat-select placeholder="Select Source"   formControlName="source" >
							<mat-option *ngFor="let source of sourceList" [value]="source.source">
							  {{source.source}}
							</mat-option>
						  </mat-select>
						
					</mat-form-field>
				</div>
				<div class="col-lg-3 kt-margin-bottom-20-mobile">
					<mat-form-field class="mat-form-field-fluid">
				
						<mat-select placeholder="Select Class"   formControlName="classId" >
							<mat-option *ngFor="let class of classList" [value]="class.id">
							  {{class.classses}}
							</mat-option>
						  </mat-select>
					</mat-form-field>
				</div>

				


			</div>

		</div>
		<div class="card-footer">
			<div class="d-flex justify-content-between">
				<div class="mr-2"></div>
				<div>
					<button type="button" mat-raised-button color="primary" (click)="onSearch()" [disabled]="viewLoading" matTooltip="Save changes">
						Search
					</button>
				</div>
			</div>
		</div>
	</form>

	<form class="form" [formGroup]="classTimetableForm">
		<div class="card-body">

			<div class="card-body-progress">
				<mat-spinner [diameter]="20"></mat-spinner>
			</div>

			<kt-alert *ngIf="hasFormErrors" type="warn" [duration]="30000" [showCloseButton]="true" (close)="onAlertClose($event)">
				Oh snap! Change a few things up and try submitting again.
			</kt-alert>

			<button type="button" mat-raised-button color="primary"
			class="col-md-1 mr-2"(click)="addItemRow()">
			   <i class="material-icons">add</i>
		   </button>

	  

		   <div class="card table-responsive" >
			   <table class="table" style="width: 100%">
				   <thead>
					   <tr>
						   <th width="20%">Subject</th>
						   <th width="10%">Teacher</th>
						   <th width="10%">Time From</th>
						   <th width="10%">Time To</th>
						   <th width="10%">Room No</th>
						   <th width="10%">Remove</th>
					   </tr>
				   </thead>
				   <tbody>
					   <tr formArrayName="items"
						   *ngFor="let item of classTimetableForm.get('items').controls;let i = index;">
						   <ng-container [formGroupName]="i">
							   <td class="form-group">
								   <mat-form-field class="mat-form-field-fluid">
									   <mat-select placeholder="Select Subject"   formControlName="subjectId" >
										   <mat-option [value]="sub1">
											 Sub 1
										   </mat-option>
										   <mat-option [value]="sub2">
											   Sub 2
											 </mat-option>
											 <mat-option [value]="sub3">
											   Sub 3
											 </mat-option>
										 </mat-select>
								   </mat-form-field>
							   </td>
							   <td class="form-group">
								   <mat-form-field class="mat-form-field-fluid">
									   <mat-select placeholder="Select Teacher"   formControlName="staffId" >
										   <mat-option [value]="staff1">
											   staff 1
										   </mat-option>
										   <mat-option [value]="staff2">
											   staff 2
											 </mat-option>
											 <mat-option [value]="staff3">
											   staff 3
											 </mat-option>
										 </mat-select>
								   </mat-form-field>
							   </td>
							   <td class="form-group">
								   <div class="ngx-timepicker-field-example">
									   <!-- <input placeholder="Choose a Time "
									   formControlName="inTime" [ngxTimepicker]="picker" />
									   <ngx-material-timepicker #picker></ngx-material-timepicker> -->
									   <label>From Time</label>
								   <ngx-timepicker-field  [controlOnly]="true" placeholder="Choose a Time " formControlName="timeFrom"></ngx-timepicker-field>
							   </div>
						   <!--  [defaultTime]="'11:11 am'" -->
							   </td>
							   <td class="form-group">
								   <div class="ngx-timepicker-field-example">
									   <!-- <input placeholder="Choose a Time "
									   formControlName="inTime" [ngxTimepicker]="picker" />
									   <ngx-material-timepicker #picker></ngx-material-timepicker> -->
									   <label>To Time</label>
								   <ngx-timepicker-field  [controlOnly]="true" placeholder="Choose a Time " formControlName="timeTo"></ngx-timepicker-field>
							   </div>
						   <!--  [defaultTime]="'11:11 am'" -->
							   </td>
							   <td  class="form-group">
								   <mat-form-field class="mat-form-field-fluid">
									   <input  matInput placeholder="Enter Room No" formControlName="roomNo" />
									   <mat-error>Room No is
										   <strong>required</strong>
									   </mat-error>
									   
								   </mat-form-field>
							   </td>
							 
							   <td>
								<button type="button" mat-raised-button color="danger"
								class="col-md-1 mr-2" (click)="removeItemRow(i)">
								<i class="material-icons" >clear</i>
							   </button>
								  
							   </td>
						   </ng-container>
					   </tr>
			   </table>
		   </div>


		</div>


		<div class="card-footer">
			<div class="d-flex justify-content-between">
				<div class="mr-2"></div>
				<div>
					<button type="button" mat-raised-button [mat-dialog-close]="data.animal" cdkFocusInitial matTooltip="Cancel changes">
						Cancel
					</button>&nbsp;
					<button type="button" mat-raised-button color="primary" (click)="onSubmit()" [disabled]="viewLoading" matTooltip="Save changes">
						Save
					</button>
				</div>
			</div>
		</div>
	</form>
</div>
